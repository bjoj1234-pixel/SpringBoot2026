<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" th:href="@{/css/common.css}">
<link rel="stylesheet" th:href="@{/css/boardList.css}">
</head>
<body>
	<section>
		<h2>전체 게시글 목록</h2>
		<div class="btn-wrap" style="width:1330px;text-align: left;margin: 0 auto;">
			<a th:href="@{/board/write}" class="btn newWrite">새 글 작성하기</a>
		</div>
		<div class="content">
			<table border="1">
				<tbody>
					<tr>
						<th width="50">글번호</th>
						<th width="300">글제목</th>
						<th width="500">글내용</th>
						<th width="100">작성자</th>
						<th width="100">작성일</th>
						<th width="80">글수정</th>
						<th width="80">글삭제</th>									
					</tr>
					<tr th:each="li,stat:${list}">
						<td th:text="${stat.count}"></td>
						<td th:text="${li.title}"></td>
						<td th:text="${li.content}"></td>
						<td th:text="${li.writer}"></td>
						<td th:text="${li.createdAt}"></td>
						<td>
							<a th:href="@{/board/modify(id=${li.id})}" class="btn">수정</a>
						</td>
						<td>
							<a th:href="@{/board/delete(id=${li.id})}" class="btn btn-danger"
							onclick = "return confirm('정말 삭제하시겠습니까? 삭제 후 복구가 불가능합니다.');">삭제</a>
						</td>				
					</tr>			
				</tbody>
			</table>
			<div class="search-wrap">
				<form th:action="@{/board/list}" method="GET">
					<select name="searchType" onchange="this.value == 'createdAt' ?  " style="width:100px;padding:0 10px;height:37px;">
						<option value="title">제목</option>
						<option value="content">내용</option>
						<option value="writer">작성자</option>
						<option value=createdAt>작성일</option>
					</select>
					<th:block th:if="${createdAt}">
						<input type="date" name="searchKeyword" style="height: 37px; width: 300px; padding: 0 10px;">
					</th:block>
					<th:block th:unless="${createdAt}">
						<input type="text" name="searchKeyword" placeholder="검색어를 입력하세요." style="height: 37px; width: 300px; padding: 0 10px;">
					</th:block>
					<input type="submit" value="검색" class="btn" style="width:100px;height:43px;">
				</form>
			</div>
		</div>
	</section>
	
	<script th:if="${msg}">//msg가 있으면 뿌리고 없으면 말라는 의미
		alert('[[${msg}]]')
	</script>
</body>
</html>